!function(a){"use strict";a.fn.fitVids=function(b){var c={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var d=document.head||document.getElementsByTagName("head")[0],e=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",f=document.createElement("div");f.innerHTML='<p>x</p><style id="fit-vids-style">'+e+"</style>",d.appendChild(f.childNodes[1])}return b&&a.extend(c,b),this.each(function(){var b=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];c.customSelector&&b.push(c.customSelector);var d=".fitvidsignore";c.ignore&&(d=d+", "+c.ignore);var e=a(this).find(b.join(","));e=e.not("object object"),e=e.not(d),e.each(function(){var b=a(this);if(!(b.parents(d).length>0||"embed"===this.tagName.toLowerCase()&&b.parent("object").length||b.parent(".fluid-width-video-wrapper").length)){b.css("height")||b.css("width")||!isNaN(b.attr("height"))&&!isNaN(b.attr("width"))||(b.attr("height",9),b.attr("width",16));var c="object"===this.tagName.toLowerCase()||b.attr("height")&&!isNaN(parseInt(b.attr("height"),10))?parseInt(b.attr("height"),10):b.height(),e=isNaN(parseInt(b.attr("width"),10))?b.width():parseInt(b.attr("width"),10),f=c/e;if(!b.attr("id")){var g="fitvid"+Math.floor(999999*Math.random());b.attr("id",g)}b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*f+"%"),b.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),jQuery(document).ready(function(a){function b(){n.hasClass("open")?(n.removeClass("open"),a(this).removeClass("open"),a(this).children("span").text(objectL10n.openMenu),a(this).attr("aria-expanded","false")):(n.addClass("open"),a(this).addClass("open"),a(this).children("span").text(objectL10n.closeMenu),a(this).attr("aria-expanded","true"))}function c(){var b=a(this).parent();b.hasClass("open")?(b.removeClass("open"),a(this).children("span").text(objectL10n.openMenu),a(this).attr("aria-expanded","false")):(b.addClass("open"),a(this).children("span").text(objectL10n.closeMenu),a(this).attr("aria-expanded","true"))}function d(){if(s.hasClass("open")){s.removeClass("open");var b=a(window).scrollTop(),c=s.offset().top;if(b>c){var d=c-24;window.innerWidth>899?a("html, body").animate({scrollTop:d},200):a("html, body").scrollTop(d)}a(this).children("span").text(objectL10n.openSidebar),a(this).attr("aria-expanded","false"),window.innerWidth>899&&t.css("max-height",""),h()}else s.addClass("open"),a(this).children("span").text(objectL10n.closeSidebar),a(this).attr("aria-expanded","true"),window.innerWidth>899&&t.css("max-height",u.outerHeight()),h()}function e(){s.hasClass("open")&&window.innerWidth>899?t.css("max-height",u.outerHeight()):t.css("max-height","")}function f(){if(window.innerWidth>899){var b=p.children(".menu-item-has-children");b.each(function(){var b=a(this).width(),c=a(this).children("ul").outerWidth();if(c>b){var d=c-b;d/=2,j.hasClass("rtl")?a(this).children("ul").css("right",-d):a(this).children("ul").css("left",-d)}});var c=p.find("ul ul");c.each(function(){var b=a(this).outerHeight();b/=2;var c=a(this).parent().children("a"),d=c.height();d/=2,a(this).css("top",-b+d+1)})}else p.find("ul").css(j.hasClass("rtl")?{right:"",top:""}:{left:"",top:""})}function g(){if(window.innerWidth>899&&v.length>0){var a=k.width(),b=l.width()+parseInt(l.css("margin-right")),c=o.width(),d=v.width();0>a-b-c-d-24?n.css("display","block"):n.css("display","inline-block")}else n.css("display","")}function h(){t.find("a, input").each(s.hasClass("open")?function(){a(this).attr("tabindex","0")}:function(){a(this).attr("tabindex","-1")})}function i(){"object-fit"in document.body.style||a(".featured-image").each(function(){if(!a(this).parent().parent(".post").hasClass("ratio-natural")){var b=a(this).children("img").add(a(this).children("a").children("img"));b.addClass("no-object-fit"),b.outerWidth()<a(this).outerWidth()&&b.css({width:"100%","min-width":"100%","max-width":"100%",height:"auto","min-height":"100%","max-height":"none"}),b.outerHeight()<a(this).outerHeight()&&b.css({height:"100%","min-height":"100%","max-height":"100%",width:"auto","min-width":"100%","max-width":"none"})}})}var j=a("body"),k=(a("#main"),a("#site-header")),l=a("#title-container"),m=a("#toggle-navigation"),n=a("#menu-primary-container"),o=a("#menu-primary"),p=a("#menu-primary-items"),q=a(".toggle-dropdown"),r=a("#toggle-sidebar"),s=a("#sidebar-primary"),t=a("#sidebar-primary-content"),u=a("#sidebar-primary-widgets"),v=k.find(".social-media-icons"),w=a(".menu-item").children("a");a(".post").fitVids({customSelector:'iframe[src*="dailymotion.com"], iframe[src*="slideshare.net"], iframe[src*="animoto.com"], iframe[src*="blip.tv"], iframe[src*="funnyordie.com"], iframe[src*="hulu.com"], iframe[src*="ted.com"], iframe[src*="wordpress.tv"]'}),a(document.body).on("post-load",function(){i()}),f(),g(),h(),i(),a(window).resize(function(){f(),g(),e(),i()}),m.on("click",b),q.on("click",c),r.on("click",d),w.focus(function(){a(this).parents("ul").addClass("focused")}),w.focusout(function(){a(this).parents("ul").removeClass("focused")})}),window.addEventListener("hashchange",function(){var a=document.getElementById(location.hash.substring(1));a&&(/^(?:a|select|input|button|textarea)$/i.test(a.tagName)||(a.tabIndex=-1),a.focus())},!1);